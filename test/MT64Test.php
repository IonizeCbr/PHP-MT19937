<?php

namespace MersenneTwister;

class MT64Test extends \PHPUnit_Framework_TestCase
{
    protected function setUp()
    {
        if (PHP_INT_SIZE === 4) {
            $this->markTestSkipped('Tests require 64-bit version of PHP');
        }
    }

    function testOutput()
    {
        $mt = new MT64;

        $expected = [
             3719012703587512730,  9052135932982013194,  3111735605501830600,  1652697143208673135,
             2303643408168052178,  2738513874957453244,  1890729213244091737,  5651677182511291588,
             1794661507598610020,  2020162291297844934,  5504454097026918249,  2520328270677586690,
             7224432137818282059,  5532656006639338485,  7740515157260960909,  8477974518555008749,
             2706251983284518708,  6356224849183736751,  1889174066768854410,  4084980603497015551,
             4644265298563092852,  7237492685998408833,  3664626869387910869,  1307116939406533017,
             2119149929521392326,  3894762456487712283,  7803955247225655938,   745160432016579416,
             1424170104484739309,  5177316156617040546,   723545723799148370,  6945229096311739283,
              126812513593797703,  1184781674345117531,  7806089894835606849,  9195661307450482752,
             1555668743366740825,  1082331266716200542,  4947625430361066766,  4759169306432392809,
             6205312343602989241,  8878076348935732362,  8850210153559666398,  1081846972377116801,
             5215073286885305508,  7778108289426705630,  1264606429713794422,  3592061835594222780,
             3475131004657860436,  4754489345868035905,  4745386561476577231,  4973571176305296003,
              556095486542126792,  5388686419254412582,  1040394143314590034,  2783056719818465534,
             5220946223062165916,   216104068437655097,  4119767966187420828,  7679332176781514514,
             3559686862197439667,  5454097584359957942,  5008001454895462393,  7817300382074349499,
             2351017534738977738,  4982352970949103210,  5986634449968754743,  9203771565150596388,
             7935633969886336373,   595873493556924434,  3104742782657831416,   488085193173184354,
             2559633548028463374,  1264961434385464388,  4918719716590401277,  4200767707398253735,
             2356522725559426185,  1953457449074452431,  4744211069714273880,  3790462361253742487,
             1063249790131260804,  6837916355984923115,  2823664721819588714,  7253097480083882126,
             5570453017734239996,   269260256712855400,  4825369333699123360,  1816376364321062668,
             5474450094483684852,  2436346757788992954,  2681457300356885393,  3490899706889037244,
             8606869300638394905,  8859303771092158856,  5216435115521994367,  4817202849755305484,
             7855342277799439903,  1014987420921231091,  7339917292101565765,  7343811279083033615,
             2171262963461654745,  8653786074835807986,  7556032039679373215,  3822263851685147993,
             4528471756611983001,  8418615117916060745,   606110056242302617,  4168553453819007382,
              653991515970060966,  2456032732736708189,  4930605265797017806,  3934597364449957341,
             2533735549367460536,  4762967312295648964,  7701514173712691770,   988987392132704052,
             4524237812141592859,  6680010030762299790,  8930571857233555737,  9059258846936339507,
             4421319198565677937,  7826738017238370718,  8675755666511807170,  5621752381482905895,
             5613208070420483388,  4177544881376809514,  2543363077191672123,   703154265222557172,
             4107102138779186946,   838356696039442820,  4632813274382716787,  7461104830267654576,
             8447371574791195475,  9194918463092135488,  3282405858378031705,  7945821787469768278,
             3473511927297859758,  2263184772228006849,  5542576869254000107,  7703737128651887690,
             6144185492186470896,  7111745242971653114,  7032084580217482193,  9160221142528848673,
             8513494832924323958,  6679631517259651276,  6973724141140306625,   866037989657049087,
             4500242891257531273,  8425420263538507360,  1198747702532730583,   955936403707499462,
             6345854907220942257,  4636059351619916964,  5980592503484317746,  7792679930365063601,
             4496309631064120634,  5335702548972220315,  7730861615687701029,  3714694669726333504,
             6153060610538064744,  3132580050844737979,   214708867416547591,  2445380215853780195,
             4396379841064894025,   721919545627106476,  5651165146065191233,  3756053206553881279,
             4821244103046338376,  1823804450495524518,  6924847581147660652,   902868612502209193,
             1694229376683291954,  5561403843038320853,  4793851959091719633,  2228766898165308630,
             5606325322679737510,  9192351998272296767,  7440407311410426294,  2286595711739012605,
             1116865765877600584,  4642668168284980744,  5344432122239833886,  3589414509550056395,
             4934471558134416120,  1763605042475545585,   469626140972010512,  7468067640535250558,
             4352864382748063896,  5571096364543362952,  9145853727855398779,   576730653829888862,
               11994955046490364,  7686729539244065673,  1230335261518351513,  2796460097646159644,
             5208208191111434391,  3386440958991250430,  3758445847440635313,  8249449732563699208,
             3672555213734871078,  2475753626068603204,  7933185798319463064,  3856651264377611641,
             4110747212967328621,  7422765486213413181,  7614446273971478727,  6744053789156182381,
             4650766872554260337,  3772545492113355821,  4401191098642313917,  5115576747741476874,
             7902478841442876101,  1083139001488899022,  1777962377614344757,  3225952190568746457,
             7430657010319972347,  5605708416964547200,   269764905137397112,  7139069140663990416,
             6434619136845215138,  6503577929878871497,   805758619237373954,  9060495673673936928,
              209340223660576389,  4560329304390113849,  5936316214723732171,  6702472807671332287,
             6613033712266524692,  6167326180864017771,  1187485237596333745,     2522558568749310,
              580933845875171278,  7627996461388839138,  8094659538782441882,  5145529698085777429,
             8169298106180651805,  7203628802446169316,  4597907936219535804,  7341363646455028199,
              869756611309584255,  3770936931563769099,  4417135767382107233,  4516971286710887218,
             2334894231552779595,  1746971055857291451,   241597985268492571,  2869334624122731657,
             3496956191699784884,  3115229269586529603,  3576762702330847307,  1861963664831568264,
             2232313714373945977,  9024630672873257045,  8840188209946752011,  3173046573281723230,
             8193547936525508009,  6589315471295090183,  5894862944472017404,  5145133479815568068,
             3492643423252819725,  2038631622112625273,  3830266776520908734,  2244072553425100076,
             1801430218575751640,  8197029039423328074,  6200631912960565423,    27665466706669247,
             4129456173171552429,  8741344709197042321,  8431357899514127883,  5351613031983368789,
             7256257218313505917,  1160358702258794478,  3314069830751886014,  3502824135247480753,
             7171190397437748962,  6019800091563935071,  6836715103065572398,  8762823840496519503,
             6413311539935170963,   283901019722568720,  4669224436231451741,  7127657988783756940,
              444159443401464247,  4564939960141291259,  5789442583720405606,    61755633292087331,
             5002736182802124377,  4627901294194856111,  2575847115572764511,  1353753754368051281,
             1552906779351842787,  8471003708856973463,  9056257136669269514,  1904092970946843740,
             6257042569599365653,  3646819096212193634,  4937843488118945629,  4572234373170264020,
             1052223146586046053,  5934126247383073658,  6490859546432457022,  3375774989922076063,
             6038893130066503849,  1948820709354730797,  7639002169092441960,  4719865823719025200,
              371498580823444541,  3476767019853089766,  6294926526167941198,  3292617246750077081,
             8162024440541898946,  3872332074224316007,  8091284834871053282,  4068729315299515909,
             8615212446124734466,  6391984719351877754,  4456448835366148325,  7232423297209812143,
             1989314204781314349,  1888535350217440322,  3528429601810889601,  2665255033167131744,
             2086152315088233990,  3058524640571997424,  6481092398077978984,  7233533917984483372,
             8438503927388452780,  3509678461581360299,  3778104398836262436,  2330556233757081056,
             5072674531716651950,  6468599696313699746,  5358632608178172001,  4755934291142586565,
             2318249967838500030,  7413090418765833831,  1922173636181413229,  3546812024113767589,
             1364195798923596174,  6018907221995836476,  2665002095076472681,  5675581351120971493,
             3310304762967387375,  3288322161791820332,  3346147899526605270,  2584510218191276115,
             7619128393368658054,  3541680505399238772,  4116375430342791662,  5690976131500007226,
             3041932658019408819,  1377125305602189060,  3893784701744126580,  4593038041605736605,
             5863279412999296199,    89493177475802107,  6094759780447226709,  6471632223509073523,
             3601040436907772299,  5203596287085195261,  3829760055161988874,  8892221479725295618,
              677048933903358341,  6991686181237016718,  9215350543539048393,  5124948172732659265,
             7414989435709740164,  5086876813808802722,  3357936919811002248,  7182019579437482270,
             9050701759803522929,  6855063034612815476,  3410174903667943044,  3374688074650898564,
             8830073842073766137,  1449738378308159352,  3819645669786903392,  8293834077437913762,
             8146209544830776968,  4925310636413084651,   155174024636021767,  5741396720071704590,
             2673603570832875882,  5546968841945887074,  6047657508190703292,  8204235280580329576,
             4497397268702209648,  4542559638620951170,  5774866748636202336,  7554418073256418800,
             3385910575844579415,  6278851180351549619,  7217918765771735347,  3389392728346612830,
             4961981901734224467,  3728580116584065815,  4921283514773425045,  5703356014529461434,
             7626038524705425976,  8955148814795612445,  3223048246744674480,  4377936457322361094,
              822012721087012663,  8059453851274594106,  7648912016689258519,  6742889122043406230,
              611364396420230646,  2338256510267953022,  1494836888338363317,  5606527544194880404,
             1184663419761937408,  3226854625681361004,  6108568025252893304,  6042870918889435123,
             3646589365300272408,  2959797797653795579,   155655638064913184,  7769988528748512463,
             8909473156291229389,  7029922023914566863,  2311448015314397070,  4722841756772454623,
             3683771650485991982,  5317167197971685883,  6192782994450731877,  3251431959360721988,
             4874840643653561115,  7851478820449229818,  4394944767293274917,  7997739880375398649,
             6429975795831499990,  2523161753106272381,  1857383109486599156,  2907871953825656311,
             2654035347692537637,   903471776914133358,  2484503732886766230,  9174910261794263147,
             2872061300307841285,  3860031852216107913,  8856252339117901369,  7233680566400816381,
             8822101260360619217,  2853033313138125843,  4468193538953269575,  6374383116334140440,
             6413127268930221524,  2816034074026791382,  4764615013734194626,  3443178223315111422,
             5579654162859075072,  8375346034986201324,  7929682280227239854,  1643245646873567929,
               23360607963573966,  5869380687997214785,  7983604864323376051,  8987425817582327568,
             7302126887587095916,  8193354394419629784,   140136507254345042,  8143717055293451931,
             7606417983987599160,  4401717450430678331,  5109371248718991866,  7701419244178932440,
             1863837113020242285,  6764433292301160469,  5869560368601907297,  4146731657279068490,
             9035132909682786398,  7870502109743508507,  4919438431751498604,   489777796949029100,
             6856964663567261054,  3891526295996278444,  9068366010308941254,  1124565822943578883,
             1769355592082438650,  1080158689557963998,  5243905224471482395,  7340791917274747983,
             2205074410727583556,  2451655641045234210,   561438171477486010,  2693773521542782074,
              139765525987750836,  6959404190832737414,  3404063713319026533,  3829783906650721717,
             6698466016972233259,  7603645487374872514,  5137227320507625330,  6304846364259016813,
             6016029029345338304,  4884086073236852869,  7501831880068288942,  3119432414810723104,
             3100649146923853911,  1712252324192024040,  1339019178934905344,  5014255966052272678,
             5921848061983283911,   531206920551315085,  4261104316649112144,  7963436111091771328,
             9182730985873397029,  2003200944473802956,  3744460046422890993,  5314936262772139652,
             5679114265472837185,   896122212487549197,   563978699472054753,  2336882434368292419,
                8355814176860004,  1979380987760103028,  4033392719139552966,   210925524308584531,
             3174296823135656126,  7974687495206900194,  3906247955512352514,  6723869689829404550,
             7017929433363622163,  5404541744873674289,  8246919215838628486,  2673576057442932751,
             2117978293706137797,  9219276458739527258,  5576802626508134708,  7711572277184669854,
             8869539280288162467,  4047635720383714935,  4959030047077961770,  1481479063554023532,
             7844189749277662174,   623605070438983080,  8330002803052127852,  7338118672268724971,
             8567975478033571339,  8195646111384919255,  9178640151370440174,  5171798749103688060,
             4813449165166125762,  5679189238400590483,  2994754300457141217,  1233090498014577321,
             7511435520399882152,  8019706988771662370,  6800529128523195299,  3572920008823751193,
             6180479809559231440,  4135896745665596050,   425717404080956072,  6391151838490088375,
               51008325066831537,  6759073307045877395,  2309845271476227068,  6675151368654832620,
             4298980593357717853,  7242994596298290706,  4917461659965807032,  7437520414993051991,
             6534013926492530866,  7057001530591384873,  7886379495835998580,  3619089485562826225,
             6195254244107496792,   809455047250338354,  7754108494925560093,  8599783471564203062,
             1174890821195474352,  2267641829405469178,  7348364526397524422,  4801117522456122982,
             3527089704855192353,  7668907320867322959,  7393733360827500258,  8433958024438365499,
             1244371951593121528,  2033229007805370221,   560236685030627393,  7755044148298863513,
             8041976608051018900,  4303864644605772793,  2963100253446015145,  3704202985286222951,
             4472769170058277666,  8466935484058257856,   762439260531881149,  5289400204653796341,
             1626943813843252681,   363549337376617738,  8242328083996459776,  7569743639045073733,
             5696257689072648179,  8719922505891127226,   989191646117249718,  3288264837716605525,
             8406855097871971079,  8783365329238442288,  4517712287286338129,  5237632412384392844,
             3046672341798414490,  1832533615141264778,  6249418265670253907,  3135884294160459907,
             6131768795509685599,  1593742053866423567,  2799440531336045094,  5384717043199075280,
             3906550272691842211,  5982578223498299689,  8753807252420447650,  3500773096960745273,
             1428715515065768968,  9081315698769406849,  5171637655059730641,  6746819629926776954,
             5808384948040997899,  8979207635089326551,  6171914014525738403,   701616563288708651,
             4394428104955420954,  4741789809692303502,  1203063906711443073,  6031215954314178496,
             4524680251964064293,  7150420233060342687,   497406776922441050,  8476047575786252868,
             8023780486247436780,  1000334545503770573,   168026209819635123,  3555389793565389221,
             9153311276679753396,  7171055219512661244,  3304046274128659265,  3423135661915962803,
             7010463761229515748,  1642981680409141499,  7170411276738273443,  4091142135265549795,
             6702522630175397105,  1233829239602288534,  7034197363389286207,  2458133135502497288,
              580905644264386088,  5711805561583247026,   583495377161472453,  3289324277831650096,
             7864778575317947138,  6504249688008004084,  2189452403619466540,  1247811193410680381,
             1205688120420481773,  6749683011718054832,  1854843848978986847,  2513394266052838918,
             4328479576729135089,  5176846225072476512,  6471007962690245228,  5296906637834436119,
             1173896657820509097,  7347741907994986279,  6424514234898072014,  5469280637100412743,
             8451417236827307357,  2108960594735763771,  1929232776103722242,  4313943549524482736,
             7782526667680088871,  4194661101166047051,  7627682071145538197,  6894146346476883181,
             3846535243579490325,   639778995330951314,   582723678543468734,  3413540463625145032,
             8373685585384232058,  7905391054003097445,  7570990313336068280,  5085942429371599942,
             7077802005659147663,  2388240503734786774,  3264226391751766768,  3703183925452612206,
             3820284157004807971,  7650505581290931174,  3900393722464876907,  6100220300484366878,
             5238303861527474570,  6085228413463089441,  3657948742489113850,  4132304803293794588,
             1260553340964317278,  1815297211094324209,  7806885761146421585,  6802329441501837885,
             8494522968699090461,  4895262323708980019,  4158491098837456577,  6994366046640985799,
             1788796500797634089,  1389516602740010698,  2085847866466739108,  8574371888261288032,
             7918177872302388760,  1399444875925134710,  5376389181661965250,  8497747785754485295,
             3935802310239173825,  7588143310119157385,  1477431918841619577,  8043771465787351749,
             7681604095768485647,  8641678624521212538,  5899841164135277032,  8279246078635696819,
             2819122839557435540,  4456254458213697007,  5337551961887865694,   863188485753284740,
             1767221887243779419,  4669120528733028326,  5312294387193226888,  6013003760437941149,
              745355596901511502,   992762919268715657,  3571755642907827844,  7402430068465369835,
             7000371910128408929,  1627567049034634312,  1060126776783954516,  4557793961552192738,
             1991399486595427869,  8926725708496556624,  4523037714792251833,  8088609127845746703,
             7641289872601178946,  4426755422962216533,  2497652658946757911,   592410622852429973,
             5893928471391897530,  7117951542121010450,  1986432236506686378,   664318594517431481,
             4257998526724622765,  7635650320176133935,  2001006655911893799,  3488381222851803362,
             3951787684474973058,  7510094669505187062,  3520160788956339799,   334969777963725121,
             2348410363615709535,  8359996748034472138,  5321354679463320330,  4041027417142044591,
              957088890786916005,  4418779216739168182,  7204368977596875209,  5669360601100583664,
              185122436514540811,  5095437863451708187,  8898888204288038589,   605674020060284670,
             5477448808841926331,   522649131832709933,   248905738318635502,  3264261126910576019,
              160114316059989652,  2666930011249848500,   997820290131693928,  2043775233092661815,
             2550526620498431788,  6946416141063138407,   672612189939700847,  5887263042885685522,
             3658253995654081704,  6175687688487757493,   891853308731030275,  6910371838639643933,
             6019378895663559304,  4597498778959156343,  6179309034894010933,  5476948623762508962,
             7196257799064373822,  6570318961091891401,  1644567239720935679,  8191013314053578301,
             7454688126839408180,     7470918122824389,  6847711730377127202,  2911793440578085173,
              850324091965530158,   428971885223043702,  6693630286491865409,   780127525590524811,
             5667740960031635218,  3309066322501267220,  1818137907331346585,  8415927988708958953,
             1228230831253466497,  2478022885448022353,  2929363286458764093,  9090825159912735050,
             1720705943941027685,  2480652202891618260,  7980975149964065031,  3699118527633957149,
             3634199354347029489,  1929158457834342895,  9173405469683430010,  4954982160912784795,
             5433955870990495226,  5099573817687132275,   933400200512051923,  4727059856628783444,
             5935106759631075276,  6347876031719116507,   908795508408001905,  7710508246693868261,
             4446514441551965839,  2087524582377388280,   246288305341569109,  5196070077391215107,
             1597862382346058488,  8928484764172754018,  9105764468481094100,  7056694625817303866,
             2404749942056932571,  2330430551375768443,   856725539615458816,  8868253267132441125,
             5443033466620824879,   646492565007399064,  3447634702657551097,  1458153086688544962,
             2304746458308426717,  1464762489132144144,  3890373927703017819,  4714529822592973411,
             5659439579210544194,  1924656892533357143,  6116393657780949095,  6876050428556550354,
             9176046753266592524,  7451234159745222508,  9090041975368870271,  1420211208517630846,
             3547719913769102752,  4371144133153358003,   172684729077592137,  6784587653811090763,
              931726472870639812,  8701346328523340061,  1814624955695574911,  4806415514638246251,
             9014535010269930779,    15854909697726972,  6142920769917708538,  1466135173821733490,
             5646309389819710720,  8401841430459196049,  3312566902067019428,  2605770517929891816,
             4931538746032062718,  5976819283190454272,  4300572329791103501,  2110997199138910238,
             5197195066046303147,  5563983820047964290,  7183378643203926477,   613275211648077842,
             4328894408824272266,  8795063354082671997,  1908961884795618462,  7736894620496631112,
             9066796403882346042,  6226541109685783321,  1280800778657905242,  3543474138632147197,
             3214895591618759487,  2768156061236117796,  8533899397680223813,  4088838619348793957,
             5548712291583388116,  5981806310223681805,  5883422456870568820,  9006418503621797289,
             6108525355833326513,  8393845746218157709,   979885146542989654,  7248016339220780867,
             8761562779976651976,  1525866008579377407,  4372221052780146466,  3272267152161853163,
             8267442085525074107,  8597840936918480333,  2091633876093760146,  4354851116513015439,
             2837476963499844108,  5966696057134818581,  2272770442175625994,  5083558352003534367,
             7528705057551269694,  6442842809635003491,  1599376111140647264,  7088436633271083059,
             3771383266961229333,  5841604921790778309,  3573870806238625311,  2911856229046496281,
             5270538303152605812,  4401854728739354346,  1146842704855934461,  4364698886847425167,
             5649379604848769476,  2935341545737306018,  4113254376223185017,  6374337160682350719,
             1962642802443577688,  5127359184929812800,  3849601119170363329,  6148990408895384218,
              270842839771677568,   301377872300126873,  5643069187672532635,  2963537481467769683,
             9170642727892645277,  6843493553068826232,  5868818549770423579,  1559015790128876437,
             2008203668848668110,  4430252228740853451,  3176523058614182046,  4557247609887250283,
             2045212336863522280,   102444565743968349,  9014178082614462669,  6699541385865429793,
              317344358057327467,  3784773445982681422,  5333362189834088941,  4024294168826501809,
             2620389612788392107,   553614110218872536,  6164360772402218524,   839091351360654784,
             6078476212933882292,  3599440974987683005,  8928936562958852635,  1253598656831452259,
             2534094861903214075,  1672391200446443102,  7072611882633147589,  5239665972719128969,
             8020325185517562578,  2359673852211300759,  4297573832274424112,  9018426995557298366,
             6166126320009739597,   207883885484782730,  1894598702529509982,  1466059664534250155,
             2220589017932577922,  7962283121301136142,  7072830675164732412,  2956834126373218971,
             6116090862092659282,   310563447613853234,  6666707716768212144,  2904473136266115198,
             3431328203095240146,  3290709111833162398,  4495878965430750615,  4135859861323772097,
             1553235723497737063,  6830320274411634435,  1731053424162524832,  5290131371102702116,
             9070927922284214592,  2963507987550020667,  8227741498753164254,  1952592607452307686,
             1318953541650628356,  4046039542931103146,  2895980529505647703,  4655946176129280040,
             8405099232173956924,  4365072028706855532,  8881512485033913218,  4590231876057586725,
             3970330400175446077,   872151951368493504,  1539714376290905159,    69716380523977140,
             1385957652962471144,  8173719889394050861,  6904824627291019874,   260198357117411938,
             8499690284548205897,   625470168726098193,  7316791775430246704,  7163087369829062738,
             6744231451054126249,   110923457516813450,  7531475639679584767,  5433153675426790063,
             3570068526329412048,  5287823959877436847,  6124378143718890595,  7536160199565503911,
             5163459167477100201,  1521833986045011872,  7796963465576110953,  7080360746294257281,
             1811524980993840306,  5709358560711746407,  1033876900542522747,  5455257179267376630
        ];
        
        $mt->init(12345678);
        for ($i = 0; $i < 1024; $i++) {
            $this->assertSame($expected[$i], $mt->int63());
        }
    }
}
